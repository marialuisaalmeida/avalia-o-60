from collections import deque

class Carrinho:
    def __init__(self):
        self.itens = deque() 
    
    def adicionar(self, livro, quantidade):
        item = livro.copy()
        item['quantidade'] = quantidade
        self.itens.append(item)
        print(f"Adicionado: {item['titulo']} - {item['tipo']} - Qtde: {item['quantidade']} - R$ {item['preco']:.2f}")

    def remover(self):
        if self.itens:
            removido = self.itens.popleft()
            print(f"Removido: {removido['titulo']} - {removido['tipo']} - Qtde: {removido['quantidade']}")
            return removido
        else:
            print("Carrinho vazio!")
            return None
    
    def mostrar(self):
        if self.itens:
            print("Itens no carrinho:")
            for livro in self.itens:
                print(f"- {livro['titulo']} ({livro['tipo']}) - Qtde: {livro['quantidade']} - R$ {livro['preco']:.2f} cada")
                print(f"  Autor: {livro['autor']}")
            total = sum(l['preco'] * l['quantidade'] for l in self.itens)
            print(f"Total a pagar: R$ {total:.2f}")
        else:
            print("Carrinho vazio.")


livro1 = {
    'titulo': 'A cinco passos de você',
    'tipo': 'Romance',
    'preco': 39.90,
    'autor': 'Rachael Lippincott'
}

livro2 = {
    'titulo': 'E não sobrou nenhum',
    'tipo': 'Suspense',
    'preco': 45.00,
    'autor': 'Agatha Christie'
}


livros_disponiveis = [livro1, livro2]

carrinho = Carrinho()

nome_livro = input("Informe o título do livro: ").strip()
quant = int(input("Quantos itens quer? "))


livro_encontrado = next((livro for livro in livros_disponiveis if livro['titulo'].lower() == nome_livro.lower()), None)

if livro_encontrado:
    carrinho.adicionar(livro_encontrado, quant)
    carrinho.mostrar()
    carrinho.remover()
    carrinho.mostrar()
else:
    print("Livro não encontrado.")
